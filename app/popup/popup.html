<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="/assets/iconfont/material-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="popup.css">
</head>
<body id="main-menu" class="body">

    <div id="target-ractive"></div>

    <script id="template-ractive" type="text/ractive">

        <section class="section main-menu">
            <div class="list">
                <div class="title">
                    <div class="title__logo-wrapper title__button" on-click="openIITC">
                        <object class="title__logo" type="image/svg+xml" data="/assets/images/IITC-black-horizontally.svg"></object>
                        <div id="progressbar" class="progressbar"></div>
                    </div>
                    <div class="title__button" on-click="open-options"><i class="title__settings material-icons">settings</i></div>
                    <input id="toggleIITC" on-change="toggleIITC" type="checkbox" class="toggle" value="on" checked="true" />
                    <div class="title__button">
                        <div class="title__toggle">
                            <label for="toggleIITC" class="toggle"></label>
                        </div>
                    </div>
                </div>
                <div class="categories">
                    {{#each categories}}
                        <div class="element item-wrapper list__item" title="{{.desc}}" on-click="open-category">
                            <span class="element__text">{{.name}}</span>
                            <span class="element__counter">{{.count_plugins_active}}&nbsp;/&nbsp;{{.count_plugins}}</span>
                            <i class="element__action material-icons">keyboard_arrow_right</i>
                        </div>
                    {{else}}
                        <div class="element item-wrapper list__item"><span class="element__text">No data</span></div>
                    {{/each}}
                </div>
                <!--<div class="item-wrapper hr"></div>-->
                <!--<div class="element item-wrapper list__item list__item_add" on-click="test-progress"><i class="element__icon material-icons">add</i><span class="element__text">Add external plugins</span></div>-->
                <div class="item-wrapper hr"></div>
                <div class="element item-wrapper list__item list__item_homepage" on-click="open-link" data-href="https://iitc.modos189.ru"><i class="element__icon material-icons">link</i><span class="element__text">IITC-CE Home page</span></div>
                <div class="element item-wrapper list__item list__item_telegram" on-click="open-link" data-href="https://t.me/iitc_news"><i class="element__icon material-icons">announcement</i><span class="element__text">IITC-CE Telegram channel</span></div>
                <div class="element item-wrapper list__item list__item_github" on-click="open-link" data-href="https://github.com/IITC-CE/ingress-intel-total-conversion"><i class="element__icon material-icons">developer_board</i><span class="element__text">IITC-CE GitHub repository</span></div>
            </div>
        </section>
        <section class="section options">
            <header class="header element">
                <i class="element__icon header__icon material-icons" on-click="back">keyboard_arrow_left</i><span class="element__text header__text">IITC-CE Button options</span>
            </header>
            <div class="settings-section">
                <h2>Choosing a IITC-CE update channel</h2>
            {{# updateChannels:i}}
                <p class="input-field">
                    <input type="radio" id="{{.value}}" name="update-channel" value="{{i}}" checked={{.checked}} on-click="change-update-channel"><label for="{{.value}}">{{name}}</label>
                </p>
            {{/}}
            </div>
            <div class="hr"></div>
            <div class="settings-section">
                <h2>Update check frequency</h2>
                <div class="input-field update-check">
                    <div class="update-check__setting">
                        <input id="update_check_interval" class="update-check__input" type="number" size="5" on-change="change-update-check-interval"><span class="update-check__text">hours</span>
                    </div>
                    <div class="button" on-click="force_update">update now</div>
                </div>
            </div>
            <div class="hr"></div>
        </section>
        <section class="section plugins">
            <header class="header element">
                <i class="element__icon header__icon material-icons" on-click="back">keyboard_arrow_left</i><span class="element__text header__text">{{ category_name }}</span>
            </header>
            <div class="list">
                <div class="plugins-list">
                    {{#each plugins}}
                        <div class="element item-wrapper list__item {{ .status }}" title="{{.desc}}" data-category="{{ category_name }}" data-id="{{ .id }}" on-click="manage-plugin">
                            <span class="element__text">{{.name}}</span>
                            <i class="element__action material-icons">{{.icon}}</i>
                        </div>
                    {{else}}
                        <div class="element item-wrapper list__item"><span class="element__text">No data</span></div>
                    {{/each}}
                </div>
            </div>
        </section>
        <div id="message" class="message">{{message}}</div>
    </script>

    <script src="ractive.js"></script>
    <script src="popup.js"></script>
</body>
</html>
